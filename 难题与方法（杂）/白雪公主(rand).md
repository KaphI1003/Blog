# 白雪公主

[题目链接](http://10.220.121.203/judge/problem.php?cid=1097\&pid=4)

#### 题目描述

白雪公主和N个小矮人生活在森林当中。每天当N个小矮人到矿场工作去之后，白雪公主就会在家做做家务，发发微博什么的。每天早上小矮人就排成队吹着口哨去矿场工作，而白雪公主就会绕着他们跑给他们抓拍照片来发到她的微博上去。

当小矮人们进入矿场后，白雪公主就回到家里翻看她拍的照片，然后找出其中比较完美的几张发到微博上。每个小矮人都戴着一顶帽子，帽子的颜色一共有C种。而白雪公主认为，只有拍到的照片中，某一种颜色的帽子出现的数量多于拍到所有小矮人的数量的一半，这张照片才是比较完美的，即当某种颜色的帽子出现的次数P严格大于小矮人数量K的一半K/2时，这张照片才是比较完美的。

现在告诉白雪公主拍下的每张照片中小矮人的区间，求每张照片是否比较完美，若是的话，求满足条件的这种帽子的颜色。

#### 输入

第一行包括2个正整数，N，C，表示小矮人的数量以及帽子颜色的数量。

接下来1行包括N个\[1,C]的正整数，表示每个小矮人帽子的颜色依次为哪种颜色。

第3行包括一个正整数M，表示白雪公主拍的照片数。

接下来M行，每行包括2个正整数，A，B，表示这张照片拍下来的小矮人的区间。

#### 输出

输出M行，对于每一张照片，如果不是比较完美的，输出“no”，否则输出“yes X”，其中X表示满足条件的帽子的颜色。

##### 样例输入

10 3

1 2 1 2 1 2 3 2 3 3

8

1 2

1 3

1 4

1 5

2 5

2 6

6 9

7 10

##### 样例输出

no

yes 1

no

yes 1

no

yes 2
no

yes 3

#### 范围

3≤N≤300000，1≤C≤10000，1≤M≤10000。

开始的时候不知道该从何入手，但是看看条件，每一次我们都需要从区间中x选出一个数，并且需要让它在区间中的出现次数大于一半。也就是说，对于一个有答案的区间，每一次如果随机选择一个区间中的一个数，它是正确答案的概率就大于二分之一，那么我们随机从区间中选出一个数，判断它是否是答案，如此重复几次，使正确率上升，就可以了。

代码如下

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,m,c,l[10005],x[300005],a,b,d;
bool f;
vector<int>v[10005];
int main(){
    scanf("%d%d",&n,&c);
    for(int i=1;i<=n;++i){
        scanf("%d",&x[i]);
        v[x[i]].push_back(i);
    }
    scanf("%d",&m);
    for(int i=1;i<=m;++i){
        scanf("%d%d",&a,&b);
        f=0;
        for(int t=1;t<=16;++t){
            d=x[rand()%(b-a+1)+a];
            if(v[d].size()<=(b-a+1)/2)continue;
            else if(upper_bound(v[d].begin(),v[d].end(),b)-lower_bound(v[d].begin(),v[d].end(),a)>(b-a+1)/2){
                printf("yes %d\n",d);f=1;break;
            }
        }
        if(!f)printf("no\n");
    }
}`
```

