# 数轴上的矩形
### 简要题面
你有一个只有正轴的$XOY$坐标系，有$n$个矩形分布在坐标轴上，即每个矩阵要么左边在$y$轴上，要么下边在$x$轴上（也可以两个同时满足）。同时每个矩阵有一个价值$v_i$，你现在要从中挑选出一些矩阵，使它们两两之间相交面积均为 $0$，问挑选出的矩阵的价值和最大是多少。

$n \le 2000$

### 问题分析

第一步先离散化坐标，然后设最大的$x$坐标为$p$，最大的$y$坐标为$q$，建立一个$p \times q $的网格图，然后对于每一个点$(x,y)$，让它向$(x+1,y),(x,y+)$都连一条边权为$0$的有向边。

接着考虑添加矩形，设一个$x$轴上的矩形的上边是$(u,v)->(u',v)$，那么我们在网格图上将给所有的$(u,y),v\le y \le q$ 都向 $(u',y)$ 连一条边权为$w_i$的有向边。

同样的道理我们设一个$y$轴上的矩形的右边是$(u,v)->(u,v’)$，那么我们在网格图上将给所有的$(x,v),u\le x \le p$ 都向 $(x,v')$ 连一条边权为$w_i$的有向边。

这样做之后，我们只需要找到从$(0,0)$到$(p,q)$的最长路即可得到答案。因为可以证明每一对矩形，如果它们相交，那么它们产生的一定无法同时经过。而任意一个矩阵集合，如果集合内的矩阵两两不交，那么一定存在一种走法可以经过所有集合内的矩阵产生的边。

图是$DAG$，找最长路直接 $DP$ 即可。

##### 时间复杂度 $O(n^2)$

