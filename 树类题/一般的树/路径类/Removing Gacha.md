 # [Removing Gacha](https://atcoder.jp/contests/arc150/tasks/arc150_d)
 ### 简要题意
 一颗树 n 个点，根是 1，每个点有黑白两种颜色，开始时每个点为白色，一个点是好的当且仅当它到根的路径上全是黑点。每一次随机从不好的点中选出一个染黑。求把整棵树染黑的期望次数。
 ### 分析
 单独考虑每一个点的贡献，即**期望出现次数**。

 设当前考虑的点编号为 x，x 到根的路径长为 len。我们在计算 x 的出现次数时不用考虑其它不在路径上的点，因为 x 是否能变好和其它不在路径上的点无关，抽出它们也不会影响 x 的出现次数。
 
 那么要让 x 变好，等价于把 x 到根的路径全染黑，假设当前有 i 个白点，k个不好的点。计算一直抽直到抽出一个白点的过程中 x 的期望出现次数。
 
白点显然是不好的点，而不抽出白点不好的点的个数也不会发生改变。抽一次出白点的概率为 $\dfrac{i}{k}$，出白点的期望次数就是$\dfrac{k}{i}$，而 x 在点全部被染黑前一定是不好的点，这里 k 个不好的点出现的概率又相同，所以 x 的期望出现次数就是 $\dfrac{1}{i}$，和白点个数有关，不好的点个数无关。

也就是说，从 i 到 i-1 个白点，x 的期望出现次数就是 $\dfrac{1}{i}$。那么从 len 个白点到 0 个白点，也就是把 x 变成好点，x 的期望出现次数为 $\sum_{i=1}^{len} \dfrac{1}{i}$。
 
那么只要预处理出每一个 $\sum_{i=1}^{len} \dfrac{1}{i}$，然后按点的深度计算贡献就可以得到最终答案。